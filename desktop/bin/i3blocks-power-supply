#!/usr/bin/env python3


def read_ac_online():
    with open('/sys/class/power_supply/AC/online') as f:
        return f.read(1) == '1'

def read_battery_status():
    with open('/sys/class/power_supply/BAT0/status') as f:
        return f.read().strip().lower()

def read_battery_charge():
    with open('/sys/class/power_supply/BAT0/charge_now') as f:
        charge_now = int(f.read())
    with open('/sys/class/power_supply/BAT0/charge_full') as f:
        charge_full = int(f.read())

    charge = charge_now / charge_full
    if charge > 1:
        charge = 1
    return charge


battery_status = read_battery_status()

if battery_status != 'full':

    is_ac_online = read_ac_online()
    battery_charge = read_battery_charge()

    print('{} {:.0%}'.format(battery_status, battery_charge))
    print('{} {:.0%}'.format(battery_status[0], battery_charge))
    if is_ac_online:
        print('#ffffff')
    elif battery_charge >= 0.5:
        print('#00ff00')
    elif battery_charge >= 0.2:
        print('#ffff00')
    else:
        print('#ff0000')

exit(0)
